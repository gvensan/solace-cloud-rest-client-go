{"openapi":"3.0.1","info":{"title":"Billing","version":"2.0"},"servers":[{"url":"https://api.solace.cloud","description":"Solace PubSub+ Cloud US EAST Region"},{"url":"https://api.solacecloud.com.au","description":"Solace PubSub+ Cloud AUS Region"}],"security":[{"APIToken":[]}],"tags":[{"name":"Usage"}],"paths":{"/api/v2/billing/usageSummary":{"get":{"tags":["Usage"],"summary":"(Beta) Get the usage summary for your organization","description":"Get the usage summary between two points of time for the current organization.<br/><br/> The Usage API is available to customers subscribed to a drawdown billing plan. This API reports usage only for a single PubSub+ Cloud account. If you have multiple accounts (for example, one for production, staging, and development), you must run the API in each account separately.<br/><br/> For more information about drawdown billing, see https://docs.solace.com/Cloud/drawdown.htm <br/><br/> In order to use this API, you'll need a token created with the permission 'Get Drawdown Usage for my Organization'.<br/><br/> The time query results include the timestamp specified in **startTime** to the time before the specified **endTime**. <br/><br/>For example, if you specify the **startTime** of ```2023-01-01T00:00:00Z``` and the **endTime** of ```2023-02-01T00:00:00Z```, this would include all the results for January 2023 and exclude any results from February.<br/><br/>","operationId":"getUsages","parameters":[{"name":"startTime","in":"query","description":"The start time of the query in ISO 8601 format.","required":true,"schema":{"type":"string","format":"ISO 8601","example":"2023-01-01T00:00:00Z"}},{"name":"endTime","in":"query","description":"The excluded end time of the query in ISO 8601 format.","required":true,"schema":{"type":"string","format":"ISO 8601","example":"2023-02-01T00:00:00Z"}}],"responses":{"200":{"description":"The operation was immediately successful","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EnvelopeDTOUsagesResponse"}}}},"400":{"description":"A bad request occurred due to invalid parameters","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"message":"An authentication error occurred.","errorId":"618e2fb0-a198-4d9d-9219-13e51ef0ecec"}}}},"403":{"description":"Forbidden.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"message":"You do not have permissions to perform this operation.","errorId":"618e2fb0-a198-4d9d-9219-13e51ef0ecec"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal server error.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"message":"An unexpected server error occurred.","errorId":"618e2fb0-a198-4d9d-9219-13e51ef0ecec"}}}},"503":{"description":"Service unavailable.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"message":"An error occurred while communicating with an external server.","errorId":"618e2fb0-a198-4d9d-9219-13e51ef0ecec"}}}},"504":{"description":"Gateway timeout.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"message":"The service is unavailable.","errorId":"618e2fb0-a198-4d9d-9219-13e51ef0ecec"}}}}}}}},"components":{"schemas":{"EnvelopeDTOUsagesResponse":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/UsagesResponse"},"meta":{"type":"object","additionalProperties":{"type":"object"}},"included":{"type":"array","items":{"type":"object"}}}},"ErrorResponse":{"type":"object","properties":{"message":{"type":"string","description":"A user-friendly message that describes the error.","example":"An error occurred."},"errorId":{"type":"string","description":"The UUID (Universally Unique Identifier) that is logged with an appropriate stack trace for a WARN or ERROR log that allows support to better determine what cause the error.","example":"123e4567-e89b-12d3-a456-426655440000"},"meta":{"type":"object","additionalProperties":{"type":"object","example":"'object': { 'field': 'description' }"},"example":"'object': { 'field': 'description' }"},"validationDetails":{"type":"object","additionalProperties":{"type":"array","description":"When applicable, these are the details of issues with the fields provided for the REST call.","example":"'name': ['Not unique']","items":{"type":"string","description":"When applicable, these are the details of issues with the fields provided for the REST call.","example":"'name': ['Not unique']"}},"description":"When applicable, these are the details of issues with the fields provided for the REST call.","example":"'name': ['Not unique']"},"errorType":{"type":"string","writeOnly":true}},"discriminator":{"propertyName":"errorType"}},"Product":{"required":["displayName","productCode"],"type":"object","properties":{"productCode":{"type":"string","description":"The SKU for this product."},"displayName":{"type":"string","description":"The display name for this product."},"totalHours":{"type":"integer","description":"The total number of hours the product has been running.","format":"int32"},"pcuRate":{"type":"integer","description":"The number of PubSub+ capacity units (PCUs) consumed by this product in one year.","format":"int32"},"totalPcus":{"type":"number","description":"The amount of PCUs which have been used for this product.","format":"double"}},"description":"The products of the organization."},"UsagesResponse":{"type":"object","properties":{"organizationName":{"type":"string","description":"The name of the organization."},"orgId":{"type":"string","description":"The identifier for the organization."},"startTime":{"type":"string","description":"The inclusive start time for the query.","format":"date-time"},"endTime":{"type":"string","description":"The end time for the query. The specified time is excluded from the query.","format":"date-time"},"products":{"type":"array","description":"The products of the organization.","items":{"$ref":"#/components/schemas/Product"}},"totalPcus":{"type":"number","format":"double"}}}},"securitySchemes":{"APIToken":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"x-readme":{"explorer-enabled":true,"proxy-enabled":true,"samples-enabled":true}}